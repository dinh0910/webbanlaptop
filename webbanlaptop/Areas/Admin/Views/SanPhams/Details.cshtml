@model (webbanlaptop.Models.SanPham, webbanlaptop.Models.ThongTin)

@{
    var tt = ViewBag.thongtin as IQueryable<webbanlaptop.Models.ThongTin>;
    var ts = ViewBag.thongso as IQueryable<webbanlaptop.Models.ThongSo>;
    var ha = ViewBag.hinhanh as IQueryable<webbanlaptop.Models.HinhAnh>;
    var km = ViewBag.khuyenmai as IQueryable<webbanlaptop.Models.KhuyenMai>;
}

<h1 class="mt-4">Chi tiết sản phẩm @Model.Item1.Ten</h1>

<div class="row mt-4">
    <div class="col-xl-6">
        <div class="card mb-4">
            <div class="card-header d-flex">
                <div class="me-auto">
                    <a class="btn btn-outline-dark" role="button" data-bs-toggle="modal" data-bs-target="#modalThongTin">Thêm thông tin</a>
                </div>
                <div class="p-2 mx-4">
                    Thông tin sản phẩm
                </div>
                <div class="p-2">
                    <i class="fas fa-table me-1"></i>
                </div>
            </div>
            <div class="card-body">
                <ol class="list-group list-group-numbered">
                    @foreach (var item in tt)
                    {
                        @if (item.SanPhamID == Model.Item1.SanPhamID)
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Trong hộp sản phẩm</div>
                                    @item.TrongHop                        
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Bảo hành pin</div>
                                    @item.BaoHanhPin
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Bảo hành máy</div>
                                    @item.BaoHanh
                                </div>
                            </li>
                        }
                    }
                </ol>
            </div>
        </div>
    </div>
    <div class="col-xl-6">
        <div class="card mb-4">
            <div class="card-header d-flex">
                <div class="me-auto">
                    <a class="btn btn-outline-dark" role="button" data-bs-toggle="modal" data-bs-target="#modalKhuyenMai">Thêm khuyến mãi</a>
                </div>
                <div class="p-2 mx-4">
                    Khuyến mãi sản phẩm
                </div>
                <div class="p-2">
                    <i class="fas fa-table me-1"></i>
                </div>
            </div>
            <div class="card-body">
                <ol class="list-group list-group-numbered">
                    @foreach(var item in km)
                    {
                        @if(item.SanPhamID == Model.Item1.SanPhamID)
                        {
                            <li class="list-group-item">
                                    @item.NoiDung
                            </li>
                        }
                    }
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header d-flex">
        <div class="me-auto">
            <a class="btn btn-outline-dark" role="button" data-bs-toggle="modal" data-bs-target="#modalThongSo">Thêm thông số</a>
        </div>
        <div class="p-2 mx-4">
            Thông số sản phẩm
        </div>
        <div class="p-2">
            <i class="fas fa-table me-1"></i>
        </div>
    </div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Loại card đồ họa</th>
                    <th>Dung lượng Ram</th>
                    <th>Loại Ram</th>
                    <th>Số khe Ram</th>
                    <th>Ổ cứng</th>
                    <th>Kích thước màn hình</th>
                    <th>Công nghệ màn hình</th>
                    <th>Pin</th>
                    <th>Hệ điều hàng</th>
                    <th>Độ phân giải màn hình</th>
                    <th>Cổng giao tiếp</th>
                    <th>Tính năng khác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ts)
                {
                    @if (item.SanPhamID == Model.Item1.SanPhamID)
                    {
                        <tr>
                            <td>@item.LoaiCard</td>
                            <td>@item.Ram</td>
                            <td>@item.LoaiRam</td>
                            <td>@item.SoKheRam</td>
                            <td>@item.OCung</td>
                            <td>@item.KichThuocManHinh</td>
                            <td>@item.CongNgheManHinh</td>
                            <td>@item.Pin</td>
                            <td>@item.HeDieuHanh</td>
                            <td>@item.DoPhanGiai</td>
                            <td>@item.CongGiaoTiep</td>
                            <td>@item.TinhNangKhac</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header d-flex">
        <div class="me-auto">
            <a class="btn btn-outline-dark" role="button" data-bs-toggle="modal" data-bs-target="#modalHinhAnh">Thêm hình ảnh</a>
        </div>
        <div class="p-2 mx-4">
            Hình ảnh sản phẩm
        </div>
        <div class="p-2">
            <i class="fas fa-table me-1"></i>
        </div>
    </div>
    <div class="card-body">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Hình ảnh</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ha)
                {
                    @if (item.SanPhamID == Model.Item1.SanPhamID)
                    {
                        <tr>
                            <td>
                                <img src="~/images/products/@item.Anh" class="img-thumbnail" width="200" height="250" />
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="modalThongTin" tabindex="-1" aria-labelledby="modalThongTinLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center mb-2">
                    <span class="fw-bold fs-3" style="color:#7fad39">Thêm thông tin</span>
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="p-2">
                    <form asp-action="Details">
                        <input type="hidden" asp-for="Item1.SanPhamID" value="@Model.Item1.SanPhamID" />
                        <div class="form-group mb-3">
                            <label class="control-label mb-1">Trong hộp</label>
                            <input type="text" asp-for="Item2.TrongHop" class="form-control" />
                        </div>
                        <div class="form-group mb-3">
                            <label class="control-label mb-1">Bảo hành pin</label>
                            <input type="text" asp-for="Item2.BaoHanhPin" class="form-control" />
                        </div>
                        <div class="form-group mb-3">
                            <label class="control-label mb-1">Bảo hành máy</label>
                            <input type="text" asp-for="Item2.BaoHanh" class="form-control" />
                        </div>
                        <div class="form-group">
                            <input type="submit" value="Thêm" class="btn btn-primary" />
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalKhuyenMai" tabindex="-1" aria-labelledby="modalKhuyenMaiLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="text-center mb-2">
                    <span class="fw-bold fs-3" style="color:#7fad39">Thêm khuyến mãi</span>
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="p-2">
                    <form asp-action="Details">
                        <input type="hidden" asp-for="Item1.SanPhamID" value="@Model.Item1.SanPhamID" />
                        <div class="form-group mb-3">
                            <label class="control-label mb-1">Nội dung</label>
                            <input type="text" name="NoiDung" class="form-control" />
                        </div>
                        <div class="form-group">
                            <input type="submit" value="Thêm" class="btn btn-primary" />
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
